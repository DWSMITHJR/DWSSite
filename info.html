<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="description" content="Document library for Donald W. Smith Jr.'s portfolio. Access professional documents, certifications, and resources.">
    <meta name="author" content="Donald W. Smith Jr.">
    <meta name="keywords" content="document library, portfolio, certifications, professional documents, resources">
    <meta name="theme-color" content="#ffffff">
    
    <title>Document Library | Donald W. Smith Jr.</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="images/favicon.png">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    
    <!-- Preload Critical Resources -->
    <link rel="preload" href="css/styles.css" as="style">
    <link rel="preload" href="css/documents.css" as="style">
    <link rel="preload" href="images/DLogo.jpg" as="image">
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/styles.css" media="all">
    <link rel="stylesheet" href="css/shared-forms.css" media="all">
    <link rel="stylesheet" href="css/documents.css" media="all">
    
    <!-- Preconnect to external domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "ItemList",
        "name": "Document Library",
        "description": "Collection of professional documents and resources",
        "itemListOrder": "https://schema.org/ItemListOrderDescending",
        "creator": {
            "@type": "Person",
            "name": "Donald W. Smith Jr."
        }
    }
    </script>
<body>
    <!-- Animated Background -->
    <div class="bg-particles" id="particles"></div>

    <!-- Skip to Main Content Link -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <!-- Header -->
    <header class="site-header" role="banner">
        <div class="header-content" itemscope itemtype="https://schema.org/Person">
            <a href="index.html" class="logo" aria-label="Return to Home Page" title="Return to Home Page" itemprop="url">
                <img src="images/DLogo.jpg" alt="Donald W. Smith Jr. - Professional Portfolio" class="logo-img" width="50" height="50" loading="lazy" itemprop="image">
            </a>
            
            <!-- Mobile Menu Toggle -->
            <button class="menu-toggle" 
                    id="mobile-menu-toggle" 
                    aria-expanded="false" 
                    aria-controls="primary-navigation"
                    aria-label="Toggle navigation menu">
                <span class="menu-toggle-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Menu</span>
            </button>
            
            <!-- Primary Navigation -->
            <nav id="primary-navigation" class="primary-navigation" aria-label="Primary">
                <ul class="nav-links" role="menubar">
                    <li role="none">
                        <a href="index.html" class="nav-link" title="Navigate to Home Page" aria-label="Home" role="menuitem">
                            <span class="nav-icon" aria-hidden="true">üè†</span>
                            <span class="nav-text">Home</span>
                        </a>
                    </li>
                    <li role="none">
                        <a href="link.html" class="nav-link" title="Request Access Code" aria-label="Request Access Code" role="menuitem">
                            <span class="nav-icon" aria-hidden="true">üîë</span>
                            <span class="nav-text">Request Code</span>
                        </a>
                    </li>
                    <li role="none">
                        <a href="info.html" class="nav-link active" aria-current="page" title="Current Page: Documents" role="menuitem">
                            <span class="nav-icon" aria-hidden="true">üìÇ</span>
                            <span class="nav-text">Documents</span>
                        </a>
                    </li>
                    <li role="none">
                        <a href="about.html" class="nav-link" title="About This Site" aria-label="About" role="menuitem">
                            <span class="nav-icon" aria-hidden="true">‚ÑπÔ∏è</span>
                            <span class="nav-text">About</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <main id="main-content" role="main" tabindex="-1" itemscope itemtype="https://schema.org/CollectionPage">
        <!-- Login Form Section -->
        <section id="login-section" class="access-code-section" aria-labelledby="login-heading" itemscope itemtype="https://schema.org/WebPageElement">
            <div class="container">
                <div class="access-code-container">
                    <div class="section-header" role="region" aria-labelledby="login-heading login-subtitle">
                        <div class="icon-container" aria-hidden="true">
                            <span class="icon-lock">üîí</span>
                        </div>
                        <h1 id="login-heading" class="section-title fade-in" itemprop="headline">Document Library</h1>
                        <p id="login-subtitle" class="section-subtitle fade-in">Secure access to professional documents</p>
                    </div>
                    
                    <div class="form-container fade-in" role="region" aria-labelledby="login-form-heading">
                        <div class="form-card" itemscope itemtype="https://schema.org/Form">
                            <h2 id="login-form-heading" class="visually-hidden">Document Access Form</h2>
                            
                            <form id="loginForm" class="login-form" novalidate>
                                <div class="form-group" role="group" aria-labelledby="email-label">
                                    <div class="form-field">
                                        <label for="loginEmail" id="email-label" class="form-label">
                                            <span class="label-text">Email Address</span>
                                            <span class="required-indicator" aria-hidden="true">*</span>
                                            <span class="visually-hidden">required</span>
                                        </label>

                                        <div class="input-wrapper">
                                            <input type="email" 
                                                   id="loginEmail" 
                                                   name="email" 
                                                   required 
                                                   autocomplete="email"
                                                   aria-required="true"
                                                   inputmode="email"
                                                   placeholder="your.email@example.com" 
                                                   class="form-input"
                                                   aria-describedby="emailHelp emailError">
                                        </div>
                                        <div id="emailHelp" class="form-hint">Enter the email address associated with your access</div>
                                        <div id="emailError" class="error-message" role="alert" aria-live="polite"></div>
                                    </div>
                                </div>

                                <div class="form-group" role="group" aria-labelledby="code-label">
                                    <div class="form-field">
                                        <label for="accessCode" id="code-label" class="form-label">
                                            <span class="label-text">Access Code</span>
                                            <span class="required-indicator" aria-hidden="true">*</span>
                                            <span class="visually-hidden">required</span>
                                        </label>

                                        <div class="input-wrapper">
                                            <input type="text" 
                                                   id="accessCode" 
                                                   name="accessCode" 
                                                   required 
                                                   inputmode="numeric"
                                                   pattern="\d{6}"
                                                   aria-required="true"
                                                   maxlength="6" 
                                                   placeholder="123456" 
                                                   class="form-input"
                                                   aria-describedby="codeHelp codeError">
                                        </div>
                                        <div id="codeHelp" class="form-hint">Enter the 6-digit code you received</div>
                                        <div id="codeError" class="error-message" role="alert" aria-live="polite"></div>
                                    </div>
                                </div>

                                <div class="form-actions">
                                    <button type="submit" 
                                            class="btn btn-primary btn-block"
                                            aria-label="Sign in to access documents">
                                        <span class="btn-icon" aria-hidden="true">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <path d="M5 12h14"></path>
                                                <path d="M12 5l7 7-7 7"></path>
                                            </svg>
                                        </span>
                                        <span class="btn-text">Sign In</span>
                                    </button>
                                </div>
                                
                                <div class="form-footer">
                                    <p>Don't have an access code? <a href="link.html" class="text-link">Request one here</a>.</p>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Document List Section (initially hidden) -->
        <section id="documents-section" class="section documents-section" aria-labelledby="documents-heading" hidden>
            <div class="documents-header">
                <div class="documents-actions">
                    <button id="signOutBtn" class="btn btn-secondary" aria-label="Sign out">
                        <span class="btn-icon" aria-hidden="true">‚Üê</span>
                        <span class="btn-text">Sign Out</span>
                    </button>
                </div>
            </div>
            <div class="documents-container" role="region" aria-labelledby="documents-heading" tabindex="0">
                <div class="table-responsive">
                    <table id="documentsTable" class="documents-table" aria-describedby="documents-instructions">
                        <caption id="documents-instructions" class="visually-hidden">
                            List of available documents with file names, sizes, and last modified dates.
                            Use the download links to access individual documents.
                        </caption>
                        <thead>
                            <tr>
                                <th scope="col" id="col-filename" class="sortable" data-sort="name" tabindex="0" aria-sort="none">
                                    <span class="th-content">
                                        <span class="th-text">File Name</span>
                                        <span class="sort-indicator" aria-hidden="true"></span>
                                    </span>
                                </th>
                                <th scope="col" id="col-size" class="sortable" data-sort="size" tabindex="0" aria-sort="none">
                                    <span class="th-content">
                                        <span class="th-text">Size</span>
                                        <span class="sort-indicator" aria-hidden="true"></span>
                                    </span>
                                </th>
                                <th scope="col" id="col-modified" class="sortable" data-sort="modified" tabindex="0" aria-sort="none">
                                    <span class="th-content">
                                        <span class="th-text">Last Modified</span>
                                        <span class="sort-indicator" aria-hidden="true"></span>
                                    </span>
                                </th>
                                <th scope="col" id="col-actions" class="actions-col">
                                    <span class="visually-hidden">Actions</span>
                                </th>
                            </tr>
                        </thead>
                        <tbody id="documentsList" aria-live="polite">
                            <!-- Documents will be inserted here by JavaScript -->
                            <tr class="no-documents">
                                <td colspan="4" class="empty-message">
                                    <span class="loading-indicator" aria-hidden="true"></span>
                                    <span>Loading documents...</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <div id="emptyState" class="empty-state" role="alert" aria-live="polite" hidden>
                        <div class="empty-state-content">
                            <span class="empty-state-icon" aria-hidden="true">üìÅ</span>
                            <h3>No Documents Found</h3>
                            <p>There are currently no documents available in the files directory.</p>
                            <button id="refreshDocuments" class="btn btn-secondary" aria-label="Refresh document list">
                                <span class="btn-icon" aria-hidden="true">‚ü≥</span>
                                <span class="btn-text">Refresh</span>
                            </button>
                        </div>
                    </div>
                </div>
                

            </div>
        </section>
    </main>



    <!-- Scripts -->
    <script src="js/main.js" defer></script>
    <script>
        // Check authentication status on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Check if user is already authenticated
            checkAuthStatus();
            
            // Initialize the login form
            initLoginForm();
            
            // Initialize sign out button
            const signOutBtn = document.getElementById('signOutBtn');
            if (signOutBtn) {
                signOutBtn.addEventListener('click', handleSignOut);
            }
            
            // Initialize refresh button
            const refreshBtn = document.getElementById('refreshDocuments');
            if (refreshBtn) {
                refreshBtn.addEventListener('click', function() {
                    // Refresh the document list
                    if (typeof loadDocuments === 'function') {
                        loadDocuments();
                    }
                });
            }
            
            // Initialize particles if the function exists
            if (typeof createParticles === 'function') {
                createParticles();
            }
            
            // Add scroll animation with intersection observer
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { threshold: 0.1 });
            
            document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
        });
        
        // Check if user is already authenticated
        async function checkAuthStatus() {
            try {
                const response = await fetch('/api/documents', { method: 'HEAD' });
                if (response.ok) {
                    // User is authenticated, show documents
                    showDocumentsSection();
                    loadDocuments();
                } else {
                    // Not authenticated, show login form
                    showLoginSection();
                }
            } catch (error) {
                console.error('Error checking auth status:', error);
                showLoginSection();
            }
        }
        
        // Initialize login form
        function initLoginForm() {
            const form = document.getElementById('loginForm');
            const emailInput = document.getElementById('loginEmail');
            const codeInput = document.getElementById('accessCode');
            const emailError = document.getElementById('emailError');
            const codeError = document.getElementById('codeError');
            
            if (!form) return;
            
            // Validate email on input
            emailInput.addEventListener('input', () => {
                if (emailInput.validity.valid) {
                    emailError.textContent = '';
                } else {
                    showEmailError(emailInput, emailError);
                }
            });
            
            // Format access code input (only numbers, max 6 digits)
            codeInput.addEventListener('input', (e) => {
                // Only allow numbers
                e.target.value = e.target.value.replace(/[^0-9]/g, '');
                // Limit to 6 digits
                if (e.target.value.length > 6) {
                    e.target.value = e.target.value.slice(0, 6);
                }
                
                // Clear error when typing
                if (codeError.textContent) {
                    codeError.textContent = '';
                    codeInput.classList.remove('invalid');
                }
            });
            
            // Handle form submission
            form.addEventListener('submit', async (e) => {
                e.preventDefault();
                
                const email = emailInput.value.trim();
                const code = codeInput.value.trim();
                
                // Validate inputs
                let isValid = true;
                
                // Reset error states
                emailError.textContent = '';
                codeError.textContent = '';
                emailInput.classList.remove('invalid');
                codeInput.classList.remove('invalid');
                
                // Validate email
                if (!email) {
                    showEmailError(emailInput, emailError, 'Email is required');
                    isValid = false;
                } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                    showEmailError(emailInput, emailError, 'Please enter a valid email address');
                    isValid = false;
                }
                
                // Validate access code (exactly 6 digits)
                if (!code) {
                    showCodeError(codeInput, codeError, 'Access code is required');
                    isValid = false;
                } else if (!/^\d{6}$/.test(code)) {
                    showCodeError(codeInput, codeError, 'Code must be exactly 6 digits');
                    isValid = false;
                }
                
                if (!isValid) return;
                
                // Show loading state
                const submitBtn = form.querySelector('button[type="submit"]');
                const originalBtnText = submitBtn.textContent;
                submitBtn.disabled = true;
                submitBtn.textContent = 'Verifying...';
                
                try {
                    // Send verification request
                    const response = await fetch('/api/verify', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({ email, code })
                    });
                    
                    const data = await response.json();
                    
                    if (response.ok) {
                        // Verification successful, show documents
                        showDocumentsSection();
                        loadDocuments();
                    } else {
                        // Show error message
                        showLoginError(emailInput, codeInput, data.error || 'Verification failed');
                    }
                } catch (error) {
                    console.error('Verification error:', error);
                    showLoginError(emailInput, codeInput, 'Network error. Please try again.');
                } finally {
                    // Reset button state
                    submitBtn.disabled = false;
                    submitBtn.textContent = originalBtnText;
                }
            });
        }
        
        // Show email validation error
        function showEmailError(input, errorElement, message = '') {
            if (!message) {
                if (input.validity.valueMissing) {
                    message = 'Email is required';
                } else if (input.validity.typeMismatch) {
                    message = 'Please enter a valid email address';
                } else if (input.validity.tooShort) {
                    message = `Email should be at least ${input.minLength} characters`;
                }
            }
            errorElement.textContent = message;
            input.classList.add('invalid');
        }
        
        // Show code validation error
        function showCodeError(input, errorElement, message = '') {
            if (!message) {
                if (!input.value.trim()) {
                    message = 'Access code is required';
                } else if (!/^\d{6}$/.test(input.value)) {
                    message = 'Code must be exactly 6 digits';
                } else {
                    message = 'Invalid access code format';
                }
            }
            errorElement.textContent = message;
            input.classList.add('invalid');
            input.focus();
        }
        
        // Show login error
        function showLoginError(emailInput, codeInput, message) {
            // Clear previous errors
            document.getElementById('emailError').textContent = '';
            document.getElementById('codeError').textContent = '';
            
            // Show error message in a toast or alert
            const errorDiv = document.createElement('div');
            errorDiv.className = 'error-toast';
            errorDiv.textContent = message;
            
            // Style the error toast
            errorDiv.style.position = 'fixed';
            errorDiv.style.top = '20px';
            errorDiv.style.left = '50%';
            errorDiv.style.transform = 'translateX(-50%)';
            errorDiv.style.backgroundColor = '#ff6b6b';
            errorDiv.style.color = 'white';
            errorDiv.style.padding = '10px 20px';
            errorDiv.style.borderRadius = '4px';
            errorDiv.style.boxShadow = '0 2px 10px rgba(0,0,0,0.2)';
            errorDiv.style.zIndex = '1000';
            
            document.body.appendChild(errorDiv);
            
            // Remove error after 5 seconds
            setTimeout(() => {
                errorDiv.style.opacity = '0';
                errorDiv.style.transition = 'opacity 0.5s';
                setTimeout(() => errorDiv.remove(), 500);
            }, 5000);
            
            // Focus on the first invalid input
            if (emailInput.validity.valid) {
                codeInput.focus();
            } else {
                emailInput.focus();
            }
        }
        
        // Show login section and hide documents
        function showLoginSection() {
            const loginSection = document.getElementById('login-section');
            const documentsSection = document.getElementById('documents-section');
            
            if (loginSection) loginSection.style.display = 'block';
            if (documentsSection) documentsSection.style.display = 'none';
            
            // Ensure the header is visible
            const header = document.querySelector('header');
            if (header) header.style.display = 'block';
        }
        
        // Show documents section and hide login form
        function showDocumentsSection() {
            const loginForm = document.querySelector('#login-section .form-container');
            const documentsSection = document.getElementById('documents-section');
            
            if (loginForm) loginForm.style.display = 'none';
            if (documentsSection) {
                documentsSection.style.display = 'block';
                documentsSection.hidden = false;
            }
            
            // Ensure the header is visible
            const header = document.querySelector('header');
            if (header) header.style.display = 'block';
        }
        
        // Load and display documents
        async function loadDocuments() {
            const container = document.getElementById('documentsList');
            const emptyState = document.getElementById('emptyState');
            
            // Show loading state
            container.innerHTML = '<tr><td colspan="3" style="text-align: center; padding: 20px;">Loading documents...</td></tr>';
            emptyState.style.display = 'none';
            
            try {
                const response = await fetch('/api/documents');
                
                if (!response.ok) {
                    if (response.status === 401) {
                        // Session expired, show login form
                        showLoginSection();
                        return;
                    }
                    throw new Error('Failed to load documents');
                }
                
                const documents = await response.json();
                
                if (documents.length === 0) {
                    emptyState.style.display = 'block';
                    container.innerHTML = '';
                } else {
                    displayDocuments(documents);
                }
            } catch (error) {
                console.error('Error loading documents:', error);
                container.innerHTML = '<tr><td colspan="3" style="text-align: center; color: #ff6b6b; padding: 20px;">Error loading documents. Please try again later.</td></tr>';
            }
        }
        
        // Handle sign out
        async function handleSignOut() {
            try {
                const response = await fetch('/api/signout', { method: 'POST' });
                if (response.ok) {
                    showLoginSection();
                    // Reset form
                    document.getElementById('loginForm').reset();
                } else {
                    throw new Error('Failed to sign out');
                }
            } catch (error) {
                console.error('Sign out error:', error);
                alert('Failed to sign out. Please try again.');
            }
        }
        
        // Format file size
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }
        
        // Format date
        function formatDate(dateString) {
            const options = { year: 'numeric', month: 'short', day: 'numeric' };
            return new Date(dateString).toLocaleDateString(undefined, options);
        }
        
        // Get file icon based on file extension
        function getFileIcon(type) {
            const icons = {
                'docx': 'üìÑ',
                'doc': 'üìÑ',
                'pdf': 'üìë',
                'xlsx': 'üìä',
                'xls': 'üìä',
                'pptx': 'üìù',
                'ppt': 'üìù',
                'txt': 'üìù',
                'zip': 'üóúÔ∏è',
                'rar': 'üóúÔ∏è',
                '7z': 'üóúÔ∏è'
            };
            return icons[type] || 'üìÑ';
        }
        
        // Handle copy to clipboard functionality
        function setupCopyButtons() {
            document.querySelectorAll('.copy-link-btn').forEach(button => {
                button.addEventListener('click', async function() {
                    const url = this.getAttribute('data-url');
                    const tooltip = this.querySelector('.tooltip');
                    
                    try {
                        // Try using the modern Clipboard API first
                        await navigator.clipboard.writeText(url);
                        
                        // Update UI to show success state
                        this.classList.add('copied');
                        this.setAttribute('aria-label', 'Link copied to clipboard');
                        
                        // Update tooltip text
                        if (tooltip) {
                            const originalText = tooltip.textContent;
                            tooltip.textContent = 'Copied!';
                            
                            // Reset after 2 seconds
                            setTimeout(() => {
                                this.classList.remove('copied');
                                this.setAttribute('aria-label', 'Copy download link');
                                tooltip.textContent = originalText;
                            }, 2000);
                        }
                        
                    } catch (err) {
                        console.error('Failed to copy link: ', err);
                        
                        // Fallback for older browsers
                        try {
                            const textarea = document.createElement('textarea');
                            textarea.value = url;
                            textarea.style.position = 'fixed';
                            document.body.appendChild(textarea);
                            textarea.select();
                            document.execCommand('copy');
                            document.body.removeChild(textarea);
                            
                            // Show success message for fallback
                            const fallbackAnnouncement = document.createElement('div');
                            fallbackAnnouncement.className = 'visually-hidden';
                            fallbackAnnouncement.setAttribute('role', 'alert');
                            fallbackAnnouncement.setAttribute('aria-live', 'assertive');
                            fallbackAnnouncement.textContent = 'Link copied to clipboard';
                            document.body.appendChild(fallbackAnnouncement);
                            
                            setTimeout(() => {
                                document.body.removeChild(fallbackAnnouncement);
                            }, 3000);
                            
                        } catch (fallbackErr) {
                            console.error('Fallback copy failed: ', fallbackErr);
                            alert('Failed to copy link. Please try again or copy it manually.');
                        }
                    }
                });
            });
        }
        
        // Display documents in the table
        function displayDocuments(documents) {
            const container = document.getElementById('documentsList');
            container.innerHTML = '';
            
            if (documents.length === 0) {
                document.getElementById('emptyState').style.display = 'block';
                return;
            }
            
            documents.forEach(doc => {
                const row = document.createElement('tr');
                const fileExt = doc.name.split('.').pop().toLowerCase();
                const fileIcon = getFileIcon(fileExt);
                const fullUrl = new URL(doc.path, window.location.origin).href;
                
                row.innerHTML = `
                    <td>
                        <a href="${doc.path}" class="document-link" target="_blank" download>
                            <span class="document-icon">${fileIcon}</span>
                            ${doc.name}
                        </a>
                    </td>
                    <td>${formatFileSize(doc.size)}</td>
                    <td>${formatDate(doc.lastModified)}</td>
                    <td class="actions">
                        <button class="copy-link-btn" 
                                title="Copy download link" 
                                data-url="${fullUrl}"
                                aria-label="Copy download link for ${doc.name}">
                            <span class="copy-icon" aria-hidden="true">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                </svg>
                            </span>
                            <span class="tooltip">Copy link</span>
                        </button>
                    </td>
                `;
                container.appendChild(row);
            });
            
            // Set up copy buttons after adding documents
            setupCopyButtons();
        }
    </script>

    <!-- Mobile Menu Toggle Script -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
            const primaryNavigation = document.getElementById('primary-navigation');
            
            if (mobileMenuToggle && primaryNavigation) {
                mobileMenuToggle.addEventListener('click', function() {
                    const isExpanded = this.getAttribute('aria-expanded') === 'true';
                    this.setAttribute('aria-expanded', !isExpanded);
                    primaryNavigation.setAttribute('aria-hidden', isExpanded);
                    
                    // Toggle active class for menu icon
                    const menuIcon = this.querySelector('.menu-toggle-icon');
                    if (menuIcon) {
                        menuIcon.classList.toggle('active');
                    }
                });
                
                // Close menu when clicking outside
                document.addEventListener('click', function(event) {
                    if (!primaryNavigation.contains(event.target) && 
                        !mobileMenuToggle.contains(event.target) && 
                        mobileMenuToggle.getAttribute('aria-expanded') === 'true') {
                        mobileMenuToggle.setAttribute('aria-expanded', 'false');
                        primaryNavigation.setAttribute('aria-hidden', 'true');
                        const menuIcon = mobileMenuToggle.querySelector('.menu-toggle-icon');
                        if (menuIcon) {
                            menuIcon.classList.remove('active');
                        }
                    }
                });
            }
        });
    </script>

    <!-- Footer -->
    <footer id="contact">
        <div class="footer-content">
            <div class="footer-social">
                <a href="https://linkedin.com/in/donaldwsmithjr" class="project-card fade-in" target="_blank" title="LinkedIn">üîó LinkedIn</a>
                <a href="https://github.com/DWSMITHJR" class="project-card fade-in" target="_blank" title="GitHub">üêô GitHub</a> 
                <a href="mailto:architect@donaldwsmithjr.com" class="project-card fade-in" title="Email">üìß Email</a>
            </div>
            <div class="footer-text">
                <p>&copy; 2025 Donald W. Smith Jr. | <a href="privacy.html">Privacy Policy</a> | <a href="terms.html">Terms of Service</a></p>
                <p>Built with passion for innovation | Solving the future, one success after another</p>
            </div>
        </div>
    </footer>
</body>
</html>
