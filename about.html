<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="description" content="About Donald W. Smith Jr. - Professional portfolio and debug information">
    <meta name="author" content="Donald W. Smith Jr.">
    <meta name="keywords" content="about, debug, runtime information, portfolio, Donald Smith">
    <meta name="theme-color" content="#ffffff">
    
    <title>About & Debug - Donald W. Smith Jr. | Portfolio</title>
    
    <!-- Favicon (base64 encoded to prevent 404) -->
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AkEEjIXDlQhNQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAGUlEQVQ4y2NgGAWjYAQBExMTEwPJgAEAHp4B8ZtDqo0AAAAASUVORK5CYII=">
    
    <!-- Preload Critical Resources -->
    <link rel="preload" href="css/styles.css" as="style">
    <link rel="preload" href="images/DLogo.png" as="image">
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/styles.css" media="all">
    <link rel="stylesheet" href="css/components/build-info.css" media="all">
    <link rel="stylesheet" href="css/about.css" media="all">
    
    <!-- Preconnect to external domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
</head>
<body>
    <!-- Animated Background -->
    <div class="bg-particles" id="particles"></div>

    <!-- Skip to Main Content Link -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <!-- Header -->
    <header class="site-header" role="banner">
        <div class="header-content" itemscope itemtype="https://schema.org/Person">
            <a href="#home" class="logo" aria-label="Return to Top of Page" title="Return to Top of Page" itemprop="url">
                <img src="images/DLogo.jpg" alt="Donald W. Smith Jr. - Professional Portfolio" class="logo-img" width="50" height="50" loading="lazy" itemprop="image">
            </a>
            
            <!-- Primary Navigation -->
            <nav id="primary-navigation" class="primary-navigation" aria-label="Primary">
                <ul class="nav-links" role="menubar">
                    <li role="none">
                        <a href="#home" 
                           class="nav-link" 
                           title="Home" 
                           aria-label="Home"
                           role="menuitem">
                            <span class="nav-icon" aria-hidden="true">üè†</span>
                            <span class="nav-text">Home</span>
                        </a>
                    </li>
                    <li role="none">
                        <a href="#contact" 
                           class="nav-link" 
                           title="Contact Information" 
                           aria-label="Contact"
                           role="menuitem">
                            <span class="nav-icon" aria-hidden="true">‚úâÔ∏è</span>
                            <span class="nav-text">Contact</span>
                        </a>
                    </li>
                    <li role="none">
                        <a href="link.html" 
                           class="nav-link" 
                           title="Request Access Code" 
                           aria-label="Request Access Code"
                           role="menuitem">
                            <span class="nav-icon" aria-hidden="true">üîë</span>
                            <span class="nav-text">Request Code</span>
                        </a>
                    </li>
                    <li role="none">
                        <a href="info.html" 
                           class="nav-link" 
                           title="View Documents" 
                           aria-label="Documents"
                           role="menuitem">
                            <span class="nav-icon" aria-hidden="true">üìÑ</span>
                            <span class="nav-text">Documents</span>
                        </a>
                    </li>
                    <li role="none">
                        <a href="about.html" 
                           class="nav-link active" 
                           aria-current="page" 
                           title="Current Section: About"
                           role="menuitem">
                            <span class="nav-icon" aria-hidden="true">‚ÑπÔ∏è</span>
                            <span class="nav-text">About</span>
                        </a>
                    </li>
                    <li role="none">
                        <a href="suggest.html" 
                           class="nav-link" 
                           title="Make a Suggestion" 
                           aria-label="Suggest"
                           role="menuitem">
                            <span class="nav-icon" aria-hidden="true">üí°</span>
                            <span class="nav-text">Suggest</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <main id="main-content" tabindex="-1" role="main" itemscope itemtype="https://schema.org/WebPage">
        <div class="about-container">
            <h1 class="section-title">About This Site</h1>
            
            <section class="info-section" aria-labelledby="site-purpose-heading">
                <h2 id="site-purpose-heading" class="fade-in">Site Purpose</h2>
                <p>This website serves as the professional portfolio of Donald W. Smith Jr., showcasing his work, projects, and professional experience. It's built with modern web standards, focusing on performance, accessibility, and user experience.</p>

        <div class="content">
            <!-- System Information -->
            <section class="info-section" aria-labelledby="system-info-heading">
                <h2 id="system-info-heading">System Information</h2>
                <div class="info-grid">
                    <div class="info-card">
                        <h3>Operating System</h3>
                        <p><span class="label">OS:</span> <span id="os-name" class="value">Detecting...</span></p>
                        <p><span class="label">Platform:</span> <span id="os-platform" class="value">Detecting...</span></p>
                        <p><span class="label">CPU Cores:</span> <span id="cpu-cores" class="value">Detecting...</span></p>
                    </div>
                    <div class="info-card">
                        <h3>Device</h3>
                        <p><span class="label">Memory:</span> <span id="device-memory" class="value">Detecting...</span></p>
                        <p><span class="label">Screen Resolution:</span> <span id="screen-resolution" class="value">Detecting...</span></p>
                        <p><span class="label">Pixel Ratio:</span> <span id="pixel-ratio" class="value">Detecting...</span></p>
                    </div>
                </div>
            </section>

            <!-- Browser Information -->
            <section class="info-section" aria-labelledby="browser-info-heading">
                <h2 id="browser-info-heading">Browser Information</h2>
                <div class="info-grid">
                    <div class="info-card">
                        <h3>Browser</h3>
                        <p><span class="label">Name:</span> <span id="browser-name" class="value">Detecting...</span></p>
                        <p><span class="label">Version:</span> <span id="browser-version" class="value">Detecting...</span></p>
                        <p><span class="label">User Agent:</span> <span id="user-agent" class="value">Detecting...</span></p>
                    </div>
                    <div class="info-card">
                        <h3>Network</h3>
                        <p><span class="label">Status:</span> <span id="online-status" class="value">Detecting...</span></p>
                        <p><span class="label">Connection:</span> <span id="connection-type" class="value">Detecting...</span></p>
                        <p><span class="label">Cookies:</span> <span id="cookies-enabled" class="value">Detecting...</span></p>
                    </div>
                </div>
            </section>

            <!-- Build Information -->
            <section class="info-section" aria-labelledby="build-info-heading">
                <h2 id="build-info-heading">Build Information</h2>
                <div class="info-grid">
                    <div class="info-card">
                        <h3>Version Information</h3>
                        <p><span class="label">Version:</span> <span id="build-version" class="value">Loading...</span></p>
                        <p><span class="label">Build Date:</span> <span id="build-date" class="value">Loading...</span></p>
                        <p><span class="label">Commit Hash:</span> <span id="commit-hash" class="value">Loading...</span></p>
                        <p><span class="label">Environment:</span> <span id="build-env" class="value">Loading...</span></p>
                    </div>
                    <div class="info-card">
                        <h3>Recent Changes</h3>
                        <div id="recent-changes" class="recent-changes">
                            <p>Loading recent changes...</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        </footer>
    </main>

    <!-- Footer -->
    <footer id="contact" role="contentinfo" itemscope itemtype="https://schema.org/WPFooter">
        <div class="footer-container">
            <div class="footer-content">
                <!-- Contact Section -->
                <section class="footer-section" aria-labelledby="contact-heading">
                    <h3 id="contact-heading" class="footer-heading">
                        <span class="emoji" aria-hidden="true">üöÄ</span>
                        <span>Contact & Legal Information</span>
                    </h3>
                    <div class="footer-social" role="navigation" aria-label="Contact methods">
                        <a href="https://linkedin.com/in/donaldwsmithjr"
                           target="_blank"
                           rel="noopener noreferrer"
                           aria-label="Connect on LinkedIn"
                           class="social-link">
                            <span class="social-icon" aria-hidden="true">üîó</span>
                            <span class="social-text">LinkedIn</span>
                        </a>
                        <a href="https://github.com/DWSMITHJR"
                           target="_blank"
                           rel="noopener noreferrer"
                           aria-label="View GitHub profile"
                           class="social-link">
                            <span class="social-icon" aria-hidden="true">üêô</span>
                            <span class="social-text">GitHub</span>
                        </a>
                        <a href="mailto:architect@donaldwsmithjr.com"
                           aria-label="Send email to Donald W. Smith Jr."
                           class="social-link">
                            <span class="social-icon" aria-hidden="true">üìß</span>
                            <span class="social-text">Email</span>
                        </a>
                    </div>
                </section>

                <!-- Legal & Copyright -->
                <div class="footer-legal" role="contentinfo">
                    <p class="copyright">
                        &copy; <span itemprop="copyrightYear">2025</span>
                        <span itemprop="copyrightHolder" itemscope itemtype="https://schema.org/Person">
                            <span itemprop="name">Donald W. Smith Jr.</span>
                        </span>
                        <span class="divider" aria-hidden="true">|</span>
                        <a href="privacy.html" class="legal-link">Privacy Policy</a>
                        <span class="divider" aria-hidden="true">|</span>
                        <a href="terms.html" class="legal-link">Terms of Service</a>
                    </p>
                    <p class="tagline">
                        Built with <span class="heart" aria-label="love">‚ù§Ô∏è</span> for innovation
                        <span class="divider" aria-hidden="true">|</span>
                        Solving the future, one success after another
                    </p>

            <!-- Structured Data for Organization -->
            <script type="application/ld+json">
            {
                "@context": "https://schema.org",
                "@type": "Organization",
                "name": "Donald W. Smith Jr. Portfolio",
                "url": "https://donaldwsmithjr.com",
                "logo": "https://donaldwsmithjr.com/images/DLogo.png",
                "sameAs": [
                    "https://linkedin.com/in/donaldwsmithjr",
                    "https://github.com/DWSMITHJR"
                ]
            }
            </script>
        </div>
    </footer>

    <!-- Build Info -->
    <div class="build-info" style="background: rgba(0, 0, 0, 0.2); padding: 1rem 0; text-align: center;">
        <div class="build-info-container" id="build-info" style="max-width: 1200px; margin: 0 auto; padding: 0 1rem;">
            <span class="build-info-item" style="color: #666; font-family: monospace; font-size: 0.8rem;">
                Build: 20251009.222439 | Oct 9, 2025, 10:24 PM EDT
            </span>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="js/config.js" defer></script>
    <script src="js/api.js" defer></script>
    <script src="js/build-info.js" defer></script>
    <script src="js/tracking.js" defer></script>
    <script src="js/main.js" defer></script>

    <script>
        // Wait for DOM to be fully loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Set current year and last updated
            const currentYear = document.getElementById('current-year');
            if (currentYear) {
                currentYear.textContent = new Date().getFullYear();
            }
            
            const lastUpdated = document.getElementById('last-updated');
            if (lastUpdated) {
                lastUpdated.textContent = document.lastModified;
            }
            
            // Initialize system and browser info detection
            detectSystemInfo();
            detectBrowserInfo();
            
            // Load build information
            loadBuildInfo();
            
            // Initialize tooltips
            const tooltipTriggers = document.querySelectorAll('[data-tooltip]');
            tooltipTriggers.forEach(trigger => {
                const tooltip = document.createElement('span');
                tooltip.className = 'tooltip';
                tooltip.textContent = trigger.getAttribute('data-tooltip');
                trigger.appendChild(tooltip);
                
                // Position tooltip on hover
                trigger.addEventListener('mouseenter', () => {
                    const rect = trigger.getBoundingClientRect();
                    tooltip.style.left = `${rect.left + window.scrollX}px`;
                    tooltip.style.top = `${rect.bottom + window.scrollY + 5}px`;
                    tooltip.style.opacity = '1';
                    tooltip.style.visibility = 'visible';
                });
                
                trigger.addEventListener('mouseleave', () => {
                    tooltip.style.opacity = '0';
                    tooltip.style.visibility = 'hidden';
                });
            });
            setTimeout(() => {
                const loadingIndicator = document.getElementById('loading-indicator');
                if (loadingIndicator) {
                    loadingIndicator.style.opacity = '0';
                    setTimeout(() => {
                        loadingIndicator.style.display = 'none';
                    }, 300);
                }
            }, 500);
        });

        /**
         * Updates the content of an element if it exists
         * @param {string} id - The ID of the element to update
         * @param {string} content - The content to set
         * @param {string} [fallback='Not available'] - Fallback content if element not found
         */
        function safeUpdateElement(id, content, fallback = 'Not available') {
            const element = document.getElementById(id);
            if (element) {
                element.textContent = content || fallback;
            }
        }

        // System information detection
        function detectSystemInfo() {
            try {
                const userAgent = navigator.userAgent;
                let os = 'Unknown OS';

                // Detect operating system
                if (userAgent.includes('Win')) os = 'Windows';
                else if (userAgent.includes('Mac')) os = 'macOS';
                else if (userAgent.includes('Linux')) os = 'Linux';
                else if (userAgent.includes('Android')) os = 'Android';
                else if (userAgent.includes('like Mac')) os = 'iOS';

                // Update UI with system information
                safeUpdateElement('os-name', os);
                safeUpdateElement('os-platform', navigator.platform);

                // Get CPU cores with fallback
                const cpuCores = navigator.hardwareConcurrency ?
                    `${navigator.hardwareConcurrency} cores` : 'Not available';
                safeUpdateElement('cpu-cores', cpuCores);

                // Get device memory with fallback
                const deviceMemory = navigator.deviceMemory ?
                    `${navigator.deviceMemory} GB` : 'Not available';
                safeUpdateElement('device-memory', deviceMemory);

                // Get screen resolution and pixel ratio
                safeUpdateElement('screen-resolution',
                    `${window.screen.width} √ó ${window.screen.height} (${window.screen.colorDepth}-bit)`);
                safeUpdateElement('pixel-ratio',
                    `${window.devicePixelRatio || 1}${window.devicePixelRatio > 1 ? ' (HiDPI/Retina)' : ''}`);

            } catch (error) {
                console.error('Error detecting system info:', error);
                throw error; // Re-throw to be caught by the parent try-catch
            }
        }

        /**
         * Detects and displays browser information
         */
        function detectBrowserInfo() {
            try {
                const userAgent = navigator.userAgent;
                let browser = 'Unknown';
                let version = 'Unknown';

                // Detect browser and version
                if (userAgent.includes('Firefox/')) {
                    browser = 'Mozilla Firefox';
                    version = userAgent.match(/Firefox\/(\d+\.?\d*)/)[1];
                } else if (userAgent.includes('Edg/')) {
                    browser = 'Microsoft Edge (Chromium)';
                    version = userAgent.match(/Edg\/(\d+\.?\d*)/)[1];
                } else if (userAgent.includes('OPR/') || userAgent.includes('Opera/')) {
                    browser = 'Opera';
                    version = userAgent.match(/(?:OPR|Opera)\/(\d+\.?\d*)/)[1];
                } else if (userAgent.includes('Chrome/') && !userAgent.includes('Edg/')) {
                    browser = 'Google Chrome';
                    version = userAgent.match(/Chrome\/(\d+\.?\d*)/)[1];
                } else if (userAgent.includes('Safari/')) {
                    browser = 'Apple Safari';
                    const versionMatch = userAgent.match(/Version\/(\d+\.?\d*)/);
                    version = versionMatch ? versionMatch[1] : 'Unknown';
                } else if (userAgent.includes('Trident/') || userAgent.includes('MSIE')) {
                    browser = 'Internet Explorer';
                    const msie = userAgent.match(/(?:MSIE |rv:)(\d+\.?\d*)/);
                    version = msie ? msie[1] : 'Unknown';
                }

                // Update browser info
                safeUpdateElement('browser-name', browser);
                safeUpdateElement('browser-version', version);
                safeUpdateElement('user-agent', userAgent);

                // Online/offline status with better detection
                const updateOnlineStatus = () => {
                    const statusElement = document.getElementById('online-status');
                    if (!statusElement) return;

                    const isOnline = navigator.onLine;
                    statusElement.textContent = isOnline ? 'Online' : 'Offline';
                    statusElement.className = `value ${isOnline ? 'online' : 'offline'}`;

                    // Additional offline detection
                    if (!isOnline) {
                        statusElement.setAttribute('aria-live', 'assertive');
                    }
                };

                // Enhanced connection information
                const updateConnectionInfo = () => {
                    const connectionElement = document.getElementById('connection-type');
                    if (!connectionElement) return;

                    let connectionInfo = 'Unknown';

                    // Standard connection API
                    if ('connection' in navigator) {
                        const connection = navigator.connection ||
                                         navigator.mozConnection ||
                                         navigator.webkitConnection;

                        if (connection) {
                            const type = connection.type || connection.effectiveType || 'Unknown';
                            const effectiveType = connection.effectiveType || '';
                            const downlink = connection.downlink ?
                                ` (${connection.downlink} Mbps)` : '';
                            const rtt = connection.rtt ?
                                `, RTT: ${connection.rtt}ms` : '';

                            connectionInfo = `${type}${effectiveType ? ` (${effectiveType})` : ''}${downlink}${rtt}`;

                            // Save connection info for potential debugging
                            connectionElement.dataset.connectionType = type;
                            connectionElement.dataset.effectiveType = effectiveType;
                            if (connection.downlink) {
                                connectionElement.dataset.downlink = connection.downlink;
                            }
                            if (connection.rtt) {
                                connectionElement.dataset.rtt = connection.rtt;
                            }
                        }
                    }

                    connectionElement.textContent = connectionInfo;
                };

                // Cookies and storage information
                const updateStorageInfo = () => {
                    const cookiesElement = document.getElementById('cookies-enabled');
                    if (cookiesElement) {
                        cookiesElement.textContent = navigator.cookieEnabled ? 'Enabled' : 'Disabled';
                    }

                    // Additional storage information if available
                    if ('storage' in navigator && 'estimate' in navigator.storage) {
                        navigator.storage.estimate().then(estimate => {
                            const storageElement = document.getElementById('storage-info');
                            if (storageElement) {
                                const used = estimate.usage ?
                                    (estimate.usage / 1024 / 1024).toFixed(2) + ' MB' : 'Unknown';
                                const quota = estimate.quota ?
                                    (estimate.quota / 1024 / 1024).toFixed(2) + ' MB' : 'Unknown';
                                storageElement.textContent = `${used} / ${quota}`;
                            }
                        }).catch(console.error);
                    }
                };

                // Add event listeners
                window.addEventListener('online', updateOnlineStatus);
                window.addEventListener('offline', updateOnlineStatus);

                if ('connection' in navigator) {
                    const connection = navigator.connection ||
                                     navigator.mozConnection ||
                                     navigator.webkitConnection;
                    if (connection) {
                        connection.addEventListener('change', updateConnectionInfo);
                    }
                }

                // Initial updates
                updateOnlineStatus();
                updateConnectionInfo();
                updateStorageInfo();

            } catch (error) {
                console.error('Error detecting browser info:', error);
                throw error; // Re-throw to be caught by the parent try-catch
            }
        }
    </script>
</body>
</html>
