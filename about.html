<!DOCTYPE html>
<html lang="en" dir="ltr" itemscope itemtype="http://schema.org/WebPage">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="description" content="System and browser information page showing detailed technical specifications of your device and browser.">
    <meta name="author" content="Donald W. Smith Jr.">
    <meta name="keywords" content="system information, browser details, device specs, technical information">
    <meta name="theme-color" content="#1e40af">
    <meta name="color-scheme" content="light dark">
    
    <title>System Information | Donald W. Smith Jr.</title>
    
    <!-- Favicon (base64 encoded to prevent 404) -->
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AkEEjIXDlQhNQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAGUlEQVQ4y2NgGAWjYAQBExMTEwPJgAEAHp4B8ZtDqo0AAAAASUVORK5CYII=">
    
    <!-- Preload Critical Resources -->
    <link rel="preload" href="css/base/reset.css" as="style">
    <link rel="preload" href="css/base/variables.css" as="style">
    <link rel="preload" href="css/styles.css" as="style">
    <link rel="preload" href="css/about.css" as="style">
    <link rel="preload" href="images/DLogo.jpg" as="image" imagesrcset="images/DLogo.jpg 1x, images/DLogo@2x.jpg 2x">
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/base/reset.css" media="all">
    <link rel="stylesheet" href="css/base/variables.css" media="all">
    <link rel="stylesheet" href="css/styles.css" media="all">
    <link rel="stylesheet" href="css/about.css" media="all">
    
    <!-- Preconnect to external domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "System Information",
        "description": "Detailed technical specifications of your device and browser",
        "author": {
            "@type": "Person",
            "name": "Donald W. Smith Jr."
        }
    }
    </script>
    
    <!-- Critical CSS inlined for faster rendering -->
        <style>
        /* Critical CSS - Inlined for faster rendering */
        .loading-indicator {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(15, 23, 42, 0.95);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            color: #fff;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            text-align: center;
            padding: 2rem;
        }
        
        .loading-spinner {
            width: 3rem;
            height: 3rem;
            border: 0.35rem solid rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            border-top-color: #60a5fa;
            animation: spin 1s ease-in-out infinite;
            margin-bottom: 1.5rem;
            will-change: transform;
        }
        
        .loading-indicator p {
            margin: 0.5rem 0 0;
            font-size: 1.1rem;
            color: #e2e8f0;
        }
        
        .error-message {
            background: rgba(220, 38, 38, 0.1);
            border-left: 4px solid #ef4444;
            padding: 1rem;
            border-radius: 0.25rem;
            max-width: 32rem;
        }
        
        .error-message p {
            margin: 0 0 0.5rem;
            line-height: 1.5;
        }
        
        .error-message p:last-child {
            margin-bottom: 0;
        }
        
        .error-message small {
            opacity: 0.8;
            font-size: 0.875em;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Screen reader only utility class */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
    </style>
</head>
<body>
    <!-- Animated Background -->
    <div class="bg-particles" id="particles"></div>

    <!-- Skip to Main Content Link -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <!-- Header -->
    <header class="site-header" role="banner">
        <div class="header-content" itemscope itemtype="https://schema.org/Person">
            <a href="index.html" class="logo" aria-label="Return to Home Page" title="Return to Home Page" itemprop="url">
                <img src="images/DLogo.jpg" alt="Donald W. Smith Jr. - Professional Portfolio" class="logo-img" width="50" height="50" loading="lazy" itemprop="image">
            </a>
            
            <!-- Mobile Menu Toggle -->
            <button class="menu-toggle" 
                    id="mobile-menu-toggle" 
                    aria-expanded="false" 
                    aria-controls="primary-navigation"
                    aria-label="Toggle navigation menu">
                <span class="menu-toggle-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Menu</span>
            </button>
            
            <!-- Primary Navigation -->
            <nav id="primary-navigation" class="primary-navigation" aria-label="Primary">
                <ul class="nav-links" role="menubar">
                    <li role="none">
                        <a href="index.html" class="nav-link" title="Navigate to Home Page" aria-label="Home" role="menuitem">
                            <span class="nav-icon" aria-hidden="true">üè†</span>
                            <span class="nav-text">Home</span>
                        </a>
                    </li>
                    <li role="none">
                        <a href="link.html" class="nav-link" title="Request Access Code" aria-label="Request Access Code" role="menuitem">
                            <span class="nav-icon" aria-hidden="true">üîë</span>
                            <span class="nav-text">Request Code</span>
                        </a>
                    </li>
                    <li role="none">
                        <a href="info.html" class="nav-link" title="Document Library" aria-label="Document Library" role="menuitem">
                            <span class="nav-icon" aria-hidden="true">üìÇ</span>
                            <span class="nav-text">Documents</span>
                        </a>
                    </li>
                    <li role="none">
                        <a href="about.html" class="nav-link active" aria-current="page" title="Current Page: System Information" role="menuitem">
                            <span class="nav-icon" aria-hidden="true">‚ÑπÔ∏è</span>
                            <span class="nav-text">About</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Loading Indicator -->
    <div id="loading-indicator" class="loading-indicator" role="status" aria-live="polite">
        <div class="loading-spinner" aria-hidden="true"></div>
        <p>Loading system information...</p>
    </div>

    <div class="about-container" role="main" id="main-content" tabindex="-1">
        <header class="page-header">
            <h1 class="page-title">System Information</h1>
        </header>

        <div class="content">
            <!-- System Information -->
            <section class="info-section" aria-labelledby="system-info-heading">
                <h2 id="system-info-heading">System Information</h2>
                <div class="info-grid">
                    <div class="info-card">
                        <h3>Operating System</h3>
                        <p><span class="label">OS:</span> <span id="os-name" class="value">Detecting...</span></p>
                        <p><span class="label">Platform:</span> <span id="os-platform" class="value">Detecting...</span></p>
                        <p><span class="label">CPU Cores:</span> <span id="cpu-cores" class="value">Detecting...</span></p>
                    </div>
                    <div class="info-card">
                        <h3>Device</h3>
                        <p><span class="label">Memory:</span> <span id="device-memory" class="value">Detecting...</span></p>
                        <p><span class="label">Screen Resolution:</span> <span id="screen-resolution" class="value">Detecting...</span></p>
                        <p><span class="label">Pixel Ratio:</span> <span id="pixel-ratio" class="value">Detecting...</span></p>
                    </div>
                </div>
            </section>

            <!-- Browser Information -->
            <section class="info-section" aria-labelledby="browser-info-heading">
                <h2 id="browser-info-heading">Browser Information</h2>
                <div class="info-grid">
                    <div class="info-card">
                        <h3>Browser</h3>
                        <p><span class="label">Name:</span> <span id="browser-name" class="value">Detecting...</span></p>
                        <p><span class="label">Version:</span> <span id="browser-version" class="value">Detecting...</span></p>
                        <p><span class="label">User Agent:</span> <span id="user-agent" class="value">Detecting...</span></p>
                    </div>
                    <div class="info-card">
                        <h3>Network</h3>
                        <p><span class="label">Status:</span> <span id="online-status" class="value">Detecting...</span></p>
                        <p><span class="label">Connection:</span> <span id="connection-type" class="value">Detecting...</span></p>
                        <p><span class="label">Cookies:</span> <span id="cookies-enabled" class="value">Detecting...</span></p>
                    </div>
                </div>
            </section>
        </div>

        <!-- Footer -->
        <footer id="contact" class="site-footer" role="contentinfo" itemscope itemtype="https://schema.org/WPFooter">
            <div class="footer-content">
                <div class="footer-legal" role="contentinfo">
                    <p class="copyright">
                        &copy; <span itemprop="copyrightYear" id="current-year"></span> 
                        <span itemprop="copyrightHolder" itemscope itemtype="https://schema.org/Person">
                            <a href="mailto:architect@donaldwsmithjr.com" class="email-link">
                                <span itemprop="name">Donald W. Smith Jr.</span>
                            </a>
                        </span>
                        <span class="separator" aria-hidden="true">|</span>
                        <a href="privacy.html" class="footer-link" title="View Privacy Policy">Privacy Policy</a>
                        <span class="separator" aria-hidden="true">|</span>
                        <a href="terms.html" class="footer-link" title="View Terms of Service">Terms of Service</a>
                    </p>
                    <p class="last-updated">Last updated: <span id="last-updated"></span></p>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // Wait for DOM to be fully loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Set current year and last updated
            const currentYear = document.getElementById('current-year');
            const lastUpdated = document.getElementById('last-updated');
            
            if (currentYear) {
                currentYear.textContent = new Date().getFullYear();
            }
            
            if (lastUpdated) {
                lastUpdated.textContent = new Date().toLocaleString(undefined, {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
            }
            
            // Initialize system info with error handling
            try {
                detectSystemInfo();
                detectBrowserInfo();
            } catch (error) {
                console.error('Error initializing system info:', error);
                const loadingIndicator = document.getElementById('loading-indicator');
                if (loadingIndicator) {
                    loadingIndicator.innerHTML = `
                        <div class="error-message">
                            <p>Unable to load system information. Please refresh the page or try again later.</p>
                            <p><small>Error: ${error.message}</small></p>
                        </div>`;
                }
            }
            
            // Hide loading indicator
            setTimeout(() => {
                const loadingIndicator = document.getElementById('loading-indicator');
                if (loadingIndicator) {
                    loadingIndicator.style.opacity = '0';
                    setTimeout(() => {
                        loadingIndicator.style.display = 'none';
                    }, 300);
                }
            }, 500);
        });

        /**
         * Updates the content of an element if it exists
         * @param {string} id - The ID of the element to update
         * @param {string} content - The content to set
         * @param {string} [fallback='Not available'] - Fallback content if element not found
         */
        function safeUpdateElement(id, content, fallback = 'Not available') {
            const element = document.getElementById(id);
            if (element) {
                element.textContent = content || fallback;
            }
        }

        // System information detection
        function detectSystemInfo() {
            try {
                const userAgent = navigator.userAgent;
                let os = 'Unknown OS';
                
                // Detect operating system
                if (userAgent.includes('Win')) os = 'Windows';
                else if (userAgent.includes('Mac')) os = 'macOS';
                else if (userAgent.includes('Linux')) os = 'Linux';
                else if (userAgent.includes('Android')) os = 'Android';
                else if (userAgent.includes('like Mac')) os = 'iOS';

                // Update UI with system information
                safeUpdateElement('os-name', os);
                safeUpdateElement('os-platform', navigator.platform);
                
                // Get CPU cores with fallback
                const cpuCores = navigator.hardwareConcurrency ? 
                    `${navigator.hardwareConcurrency} cores` : 'Not available';
                safeUpdateElement('cpu-cores', cpuCores);
                
                // Get device memory with fallback
                const deviceMemory = navigator.deviceMemory ? 
                    `${navigator.deviceMemory} GB` : 'Not available';
                safeUpdateElement('device-memory', deviceMemory);
                
                // Get screen resolution and pixel ratio
                safeUpdateElement('screen-resolution', 
                    `${window.screen.width} √ó ${window.screen.height} (${window.screen.colorDepth}-bit)`);
                safeUpdateElement('pixel-ratio', 
                    `${window.devicePixelRatio || 1}${window.devicePixelRatio > 1 ? ' (HiDPI/Retina)' : ''}`);
                    
            } catch (error) {
                console.error('Error detecting system info:', error);
                throw error; // Re-throw to be caught by the parent try-catch
            }
        }

        /**
         * Detects and displays browser information
         */
        function detectBrowserInfo() {
            try {
                const userAgent = navigator.userAgent;
                let browser = 'Unknown';
                let version = 'Unknown';
                
                // Detect browser and version
                if (userAgent.includes('Firefox/')) {
                    browser = 'Mozilla Firefox';
                    version = userAgent.match(/Firefox\/(\d+\.?\d*)/)[1];
                } else if (userAgent.includes('Edg/')) {
                    browser = 'Microsoft Edge (Chromium)';
                    version = userAgent.match(/Edg\/(\d+\.?\d*)/)[1];
                } else if (userAgent.includes('OPR/') || userAgent.includes('Opera/')) {
                    browser = 'Opera';
                    version = userAgent.match(/(?:OPR|Opera)\/(\d+\.?\d*)/)[1];
                } else if (userAgent.includes('Chrome/') && !userAgent.includes('Edg/')) {
                    browser = 'Google Chrome';
                    version = userAgent.match(/Chrome\/(\d+\.?\d*)/)[1];
                } else if (userAgent.includes('Safari/')) {
                    browser = 'Apple Safari';
                    const versionMatch = userAgent.match(/Version\/(\d+\.?\d*)/);
                    version = versionMatch ? versionMatch[1] : 'Unknown';
                } else if (userAgent.includes('Trident/') || userAgent.includes('MSIE')) {
                    browser = 'Internet Explorer';
                    const msie = userAgent.match(/(?:MSIE |rv:)(\d+\.?\d*)/);
                    version = msie ? msie[1] : 'Unknown';
                }
                
                // Update browser info
                safeUpdateElement('browser-name', browser);
                safeUpdateElement('browser-version', version);
                safeUpdateElement('user-agent', userAgent);
                
                // Online/offline status with better detection
                const updateOnlineStatus = () => {
                    const statusElement = document.getElementById('online-status');
                    if (!statusElement) return;
                    
                    const isOnline = navigator.onLine;
                    statusElement.textContent = isOnline ? 'Online' : 'Offline';
                    statusElement.className = `value ${isOnline ? 'online' : 'offline'}`;
                    
                    // Additional offline detection
                    if (!isOnline) {
                        statusElement.setAttribute('aria-live', 'assertive');
                    }
                };
                
                // Enhanced connection information
                const updateConnectionInfo = () => {
                    const connectionElement = document.getElementById('connection-type');
                    if (!connectionElement) return;
                    
                    let connectionInfo = 'Unknown';
                    
                    // Standard connection API
                    if ('connection' in navigator) {
                        const connection = navigator.connection || 
                                         navigator.mozConnection || 
                                         navigator.webkitConnection;
                        
                        if (connection) {
                            const type = connection.type || connection.effectiveType || 'Unknown';
                            const effectiveType = connection.effectiveType || '';
                            const downlink = connection.downlink ? 
                                ` (${connection.downlink} Mbps)` : '';
                            const rtt = connection.rtt ? 
                                `, RTT: ${connection.rtt}ms` : '';
                            
                            connectionInfo = `${type}${effectiveType ? ` (${effectiveType})` : ''}${downlink}${rtt}`;
                            
                            // Save connection info for potential debugging
                            connectionElement.dataset.connectionType = type;
                            connectionElement.dataset.effectiveType = effectiveType;
                            if (connection.downlink) {
                                connectionElement.dataset.downlink = connection.downlink;
                            }
                            if (connection.rtt) {
                                connectionElement.dataset.rtt = connection.rtt;
                            }
                        }
                    }
                    
                    connectionElement.textContent = connectionInfo;
                };
                
                // Cookies and storage information
                const updateStorageInfo = () => {
                    const cookiesElement = document.getElementById('cookies-enabled');
                    if (cookiesElement) {
                        cookiesElement.textContent = navigator.cookieEnabled ? 'Enabled' : 'Disabled';
                    }
                    
                    // Additional storage information if available
                    if ('storage' in navigator && 'estimate' in navigator.storage) {
                        navigator.storage.estimate().then(estimate => {
                            const storageElement = document.getElementById('storage-info');
                            if (storageElement) {
                                const used = estimate.usage ? 
                                    (estimate.usage / 1024 / 1024).toFixed(2) + ' MB' : 'Unknown';
                                const quota = estimate.quota ? 
                                    (estimate.quota / 1024 / 1024).toFixed(2) + ' MB' : 'Unknown';
                                storageElement.textContent = `${used} / ${quota}`;
                            }
                        }).catch(console.error);
                    }
                };
                
                // Add event listeners
                window.addEventListener('online', updateOnlineStatus);
                window.addEventListener('offline', updateOnlineStatus);
                
                if ('connection' in navigator) {
                    const connection = navigator.connection || 
                                     navigator.mozConnection || 
                                     navigator.webkitConnection;
                    if (connection) {
                        connection.addEventListener('change', updateConnectionInfo);
                    }
                }
                
                // Initial updates
                updateOnlineStatus();
                updateConnectionInfo();
                updateStorageInfo();
                
            } catch (error) {
                console.error('Error detecting browser info:', error);
                throw error; // Re-throw to be caught by the parent try-catch
            }
        }
    </script>
</body>
</html>
