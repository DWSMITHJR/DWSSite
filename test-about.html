<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test About Page</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .section h2 {
            margin-top: 0;
            color: #333;
        }
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
        }
        .info-card {
            padding: 15px;
            background: #f9f9f9;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <h1>Test About Page</h1>
    
    <div class="section">
        <h2>Environment</h2>
        <div id="environment-info">Loading environment information...</div>
    </div>
    
    <div class="section">
        <h2>System Information</h2>
        <div class="info-grid">
            <div class="info-card">
                <h3>Browser</h3>
                <div id="browser-info">Loading...</div>
            </div>
            <div class="info-card">
                <h3>OS</h3>
                <div id="os-info">Loading...</div>
            </div>
            <div class="info-card">
                <h3>Screen</h3>
                <div id="screen-info">Loading...</div>
            </div>
        </div>
    </div>

    <script>
        // Simple and fast environment detection
        function detectEnvironment() {
            const { hostname, port, search } = window.location;
            return {
                isDev: hostname === 'localhost' || 
                       hostname === '127.0.0.1' || 
                       port === '3000' || 
                       port === '8080' ||
                       search.includes('dev=true') ||
                       window.location.protocol === 'file:',
                protocol: window.location.protocol,
                host: window.location.host,
                href: window.location.href
            };
        }

        // Update UI with environment info
        function updateEnvironmentInfo() {
            const env = detectEnvironment();
            document.getElementById('environment-info').innerHTML = `
                <p><strong>Mode:</strong> ${env.isDev ? 'Development' : 'Production'}</p>
                <p><strong>Protocol:</strong> ${env.protocol}</p>
                <p><strong>Host:</strong> ${env.host}</p>
                <p><strong>URL:</strong> ${env.href}</p>
            `;
        }

        // Update browser info
        function updateBrowserInfo() {
            const ua = navigator.userAgent;
            document.getElementById('browser-info').innerHTML = `
                <p><strong>User Agent:</strong> ${ua.substring(0, 50)}...</p>
                <p><strong>Language:</strong> ${navigator.language}</p>
                <p><strong>Online:</strong> ${navigator.onLine ? 'Yes' : 'No'}</p>
                <p><strong>Cookies:</strong> ${navigator.cookieEnabled ? 'Enabled' : 'Disabled'}</p>
            `;
        }

        // Update OS info
        function updateOSInfo() {
            const platform = navigator.platform;
            let os = 'Unknown';
            
            if (platform.includes('Win')) os = 'Windows';
            else if (platform.includes('Mac')) os = 'MacOS';
            else if (platform.includes('Linux')) os = 'Linux';
            else if (platform.includes('Android')) os = 'Android';
            else if (platform.includes('iPhone') || platform.includes('iPad') || platform.includes('iPod')) os = 'iOS';
            
            document.getElementById('os-info').innerHTML = `
                <p><strong>Platform:</strong> ${platform}</p>
                <p><strong>OS:</strong> ${os}</p>
                <p><strong>CPU Cores:</strong> ${navigator.hardwareConcurrency || 'N/A'}</p>
                <p><strong>Device Memory:</strong> ${navigator.deviceMemory || 'N/A'} GB</p>
            `;
        }

        // Update screen info
        function updateScreenInfo() {
            document.getElementById('screen-info').innerHTML = `
                <p><strong>Resolution:</strong> ${window.screen.width} × ${window.screen.height}</p>
                <p><strong>Available:</strong> ${window.screen.availWidth} × ${window.screen.availHeight}</p>
                <p><strong>Color Depth:</strong> ${window.screen.colorDepth} bits</p>
                <p><strong>Pixel Ratio:</strong> ${window.devicePixelRatio || 1}</p>
            `;
        }

        // Initialize everything
        function init() {
            updateEnvironmentInfo();
            updateBrowserInfo();
            updateOSInfo();
            updateScreenInfo();
            
            // Update timestamp
            document.getElementById('timestamp').textContent = new Date().toLocaleString();
        }

        // Run initialization when DOM is loaded
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }
    </script>
    
    <div class="section">
        <h2>Debug Info</h2>
        <p><strong>Page loaded at:</strong> <span id="timestamp"></span></p>
        <p>This is a lightweight test page to verify environment detection works correctly.</p>
    </div>
</body>
</html>
